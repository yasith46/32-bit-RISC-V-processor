module datafwd(
		input rs1, rs2, exerd, memrd, ctrl_alusrc, clk,
		output reg [1:0] rs1sel, rs2sel
	);
	
	// rs1sel: 00 - PDE_RS1    01 - PEM_RS1    10 - PMW_RS1
	// rs2sel: 00 - PDE_RS2    01 - PEM_RS2    10 - PMW_RS2    11 - IMMEDIATE
	
	always@(posedge clk) begin
		if (rs1 == exerd)
			rs1sel <= 2'b01;
		else if (rs1 == memrd)
			rs1sel <= 2'b10;
		else
			rs1sel <= 2'b00;
		
		if (ctrl_alusrc)
			rs2sel <= 2'b11;
		else if (rs2 == exerd)
			rs2sel <= 2'b01;
		else if (rs2 == memrd)
			rs2sel <= 2'b10;
		else
			rs2sel <= 2'b00;
	end
endmodule 